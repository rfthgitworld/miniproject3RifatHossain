{% extends 'base.html' %}
{% block content %}
<h2>Your Transactions</h2>
<a href="{{ url_for('expenses.add_transaction') }}" class="btn btn-primary mb-3">+ Add Transaction</a>

<table class="table table-striped">
  <thead>
    <tr>
      <th>Type</th>
      <th>Amount</th>
      <th>Category</th>
      <th>Note</th>
      <th>Date</th>
      <th>Actions</th>  </tr>
  </thead>
  <tbody>
    {% for t in transactions %}
      <tr>
        <td>{{ t['type'] }}</td>
        <td>${{ t['amount'] }}</td>
        <td>{{ t['category'] }}</td>
        <td>{{ t['note'] or '' }}</td>
        <td>{{ t['created_at'] }}</td>
        <td>
          <form method="POST" action="{{ url_for('expenses.remove_transaction', id=t['id']) }}" onsubmit="return confirm('Are you sure you want to delete this transaction?');">
            <button type="submit" class="btn btn-danger btn-sm">Remove</button>
          </form>
        </td>
      </tr>
    {% endfor %}
  </tbody>
</table>
{% endblock %}